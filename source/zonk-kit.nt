import {
  core.ref {ref},
}

data position {
| _Position(
    cursor: int,
    line: int,
    column: int,
    gap-size: int,
  )
}

data zonk-kit(a) {
| _Zonk-Kit(
    input-stream: text,
    position-ref: ref(position),
    context: a,
  )
}

define get-context<c>(k: &zonk-kit(c)): &c {
  tie _Zonk-Kit of {context} = k;
  context
}
